---
import IconWrapper from '@/components/ui/IconWrapper.astro';

interface Props {
  showMap: boolean;
}

const { showMap } = Astro.props;
---

{showMap && (
  <div class="max-w-4xl mx-auto">
    <div class="text-center mb-6">
      <h4 class="text-lg font-bold text-[#1e3a5f] mb-3">Nuestra Ubicación</h4>
      <div class="flex items-center justify-center gap-2 mb-4">
        <IconWrapper name="mdi:map-marker" size="sm" color="light" />
        <span class="text-white/80 text-sm">
          <strong class="text-white">Principal:</strong> José Galvez 375 Urb. Chicago - Trujillo
        </span>
      </div>
    </div>

    <!-- Mapa con diseño circular/ovalado -->
    <div class="relative">
      <div id="footer-map" class="w-full h-48 sm:h-56 md:h-64 rounded-[50px] sm:rounded-[60px] overflow-hidden shadow-2xl border-4 border-white transform rotate-1 hover:rotate-0 transition-all duration-500 hover:scale-105">
        <!-- El mapa se cargará aquí -->
      </div>

      <!-- Controles de zoom flotantes -->
      <div class="absolute top-4 right-4 flex flex-col gap-2">
        <button id="zoom-in" class="w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-[#1e3a5f] hover:text-white transition-all duration-300 cursor-pointer">
          <IconWrapper name="mdi:plus" size="sm" color="secondary" />
        </button>
        <button id="zoom-out" class="w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-[#1e3a5f] hover:text-white transition-all duration-300 cursor-pointer">
          <IconWrapper name="mdi:minus" size="sm" color="secondary" />
        </button>
      </div>

      <!-- Indicador de ubicación -->
      <div class="absolute bottom-4 left-4 bg-white rounded-full px-3 py-1 shadow-lg flex items-center gap-2">
        <IconWrapper name="mdi:map-marker" size="sm" color="secondary" />
        <span class="text-xs font-medium text-[#1e3a5f]">Ubicación</span>
      </div>
    </div>
  </div>
)}

<script src="/scripts/footerMap.js" is:inline></script>
