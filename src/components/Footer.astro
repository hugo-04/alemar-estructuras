---
// src/components/Footer.astro
// Este componente define el pie de página principal del sitio web.
// Muestra información de la empresa, enlaces rápidos, categorías de servicios y datos de contacto.

import { services } from '../data/services.ts'; // Importa los datos de servicios para generar las categorías.
import FooterMap from './FooterMap.astro';
import { Icon } from 'astro-icon/components';


interface Props {
  showMap?: boolean;
}

const { showMap = true } = Astro.props;

// Genera categorías únicas a partir de los servicios para el menú del pie de página.
const categories: string[] = [...new Set(services.map(service => service.category))];
---

<footer class="bg-[#1e3a5f] text-white pt-12 pb-6">
  <div class="max-w-7xl mx-auto px-6">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-10 pb-8 border-b border-[#c8aa6e]/30">
      <!-- Columna 1: Logo y descripción (móvil: col 1) -->
      <div class="flex flex-col items-start md:items-start gap-2">
        <div class="flex items-center mb-2">
          <Icon name="mdi:office-building" class="w-7 h-7 text-[#c8aa6e] mr-2" />
          <span class="text-2xl font-bold text-white">ALEMAR <span class="font-normal">Estructuras</span></span>
        </div>
        <p class="text-[#f4e7d1] text-base">Construyendo el futuro con estructuras sólidas, innovadoras y confiables.</p>
      </div>
      <!-- Columna 2: Servicios (móvil: col 1) -->
      <div>
        <h4 class="text-[#c8aa6e] font-bold text-lg mb-3">Servicios</h4>
        <ul class="space-y-1">
          {Array.from(new Set(services.map(s => s.category))).map(category => (
            <li>
              <a 
                href={`/servicios/categoria/${category.toLowerCase().replace(/ /g, "-")}`}
                class="hover:text-[#c8aa6e] transition-colors duration-300 cursor-pointer"
              >
                {category}
              </a>
            </li>
          ))}
        </ul>
      </div>
      <!-- Columna 3: Empresa (móvil: col 2) -->
      <div>
        <h4 class="text-[#c8aa6e] font-bold text-lg mb-3">Empresa</h4>
        <ul class="space-y-1">
          <li><a href="#" class="hover:text-[#c8aa6e] transition">Acerca de Nosotros</a></li>
          <li><a href="#" class="hover:text-[#c8aa6e] transition">Nuestro Equipo</a></li>
          <li><a href="#" class="hover:text-[#c8aa6e] transition">Proyectos</a></li>
          <li><a href="#" class="hover:text-[#c8aa6e] transition">Certificaciones</a></li>
        </ul>
      </div>
      <!-- Columna 4: Contacto (móvil: col 2) -->
      <div>
        <h4 class="text-[#c8aa6e] font-bold text-lg mb-3">Contacto</h4>
        <ul class="space-y-2 text-[#f4e7d1]">
          <li class="flex flex-row flex-wrap items-start gap-3 break-words"><Icon name="mdi:phone" class="w-5 h-5 min-w-[20px] text-[#c8aa6e]" /><span class="flex-1">+1 (555) 123-4567</span></li>
          <li class="flex flex-row flex-wrap items-start gap-3 break-words">
            <Icon name="mdi:email" class="w-5 h-5 min-w-[20px] text-[#c8aa6e] mt-1" />
            <span class="flex-1 break-all text-sm md:text-base">info@alemarestructuras.com</span>
          </li>
          <li class="flex flex-row flex-wrap items-start gap-3 break-words"><Icon name="mdi:map-marker" class="w-5 h-5 min-w-[20px] text-[#c8aa6e]" /><span class="flex-1">Principal: José Galvez 375 Urb. Chicago - Trujillo</span></li>
          <li class="flex flex-row flex-wrap items-start gap-3 break-words"><Icon name="mdi:map-marker" class="w-5 h-5 min-w-[20px] text-[#c8aa6e]" /><span class="flex-1">Sucursal: Sector Chanquin Alto - Campiña de Moche s/n. - Moche</span></li>
        </ul>
      </div>
    </div>
    {showMap !== false && (
      <div class="mt-8">
        <FooterMap showMap={true} />
      </div>
    )}
    <div class="text-center text-sm text-[#f4e7d1] mt-8">
      <p>&copy; 2024 ALEMAR Estructuras. Todos los derechos reservados.</p>
    </div>
  </div>
</footer>
