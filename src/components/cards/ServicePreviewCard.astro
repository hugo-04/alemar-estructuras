---
// src/components/ServicePreviewCard.astro
// Este componente muestra una vista previa compacta de un servicio.
// Es utilizado en la página principal de servicios para destacar los "más solicitados".

import { Image } from 'astro:assets';

interface Service {
  title: string;
  slug: string;
  description: string;
  whatsappLink: string;
  imageUrls: string[];
  previewImageUrl: string;
  category: string;
  isMostClicked?: boolean;
}

interface Props {
  service: Service;
  className?: string;
}

const { service, className = "" } = Astro.props; // Desestructura el objeto de servicio.
---

<div class={`bg-gradient-to-br from-white via-blue-50 to-slate-100 rounded-2xl xs:rounded-3xl shadow-2xl p-4 xs:p-6 sm:p-8 md:p-10 flex flex-col items-center text-center transition-all duration-300 hover:shadow-3xl hover:scale-105 active:scale-95 border border-warning/20 min-h-[380px] xs:min-h-[420px] sm:min-h-[460px] md:min-h-[500px] max-h-[600px] h-auto w-full ${className}`}>
  <Image
    src={service.previewImageUrl}
    alt={service.title}
    width={400}
    height={225}
    class="w-full h-40 xs:h-44 sm:h-48 md:h-52 lg:h-56 object-cover rounded-xl xs:rounded-2xl mb-4 xs:mb-6 sm:mb-8 shadow-lg border-2 border-blue-100"
    loading="lazy"
  />
  <h3 class="text-lg xs:text-xl sm:text-2xl md:text-3xl lg:text-4xl font-extrabold text-primary mb-4 xs:mb-6 sm:mb-8 mt-2 tracking-tight drop-shadow-lg leading-tight flex-1 flex items-center justify-center px-2 text-center">
    <span class="line-clamp-3">{service.title}</span>
  </h3>
  <a
    href={`/servicios/${service.slug}`}
    class="inline-flex bg-gradient-to-r from-primary to-secondary text-white px-4 xs:px-6 sm:px-8 md:px-10 py-3 xs:py-4 sm:py-5 rounded-lg xs:rounded-xl text-sm xs:text-base sm:text-lg md:text-xl font-bold hover:from-secondary hover:to-primary transition-all duration-300 mt-auto shadow-lg border-2 border-warning/30 w-full active:scale-95 items-center justify-center min-h-[44px]"
    aria-label={`Ver más información sobre ${service.title}`}
    role="button"
  >
    <span class="text-center leading-tight">Más Información</span>
  </a>
</div>
