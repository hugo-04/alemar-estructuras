---
import IconWrapper from './IconWrapper.astro';

interface Props {
  showMap: boolean;
}

const { showMap } = Astro.props;
---

{showMap && (
  <div class="w-full rounded-md overflow-hidden shadow-md bg-white p-6">
    <div class="text-center">
      <h4 class="text-lg font-bold text-[#1e3a5f] mb-4">Nuestra Ubicación</h4>
      <div class="space-y-3">
        <div class="flex items-center justify-center gap-2">
          <IconWrapper name="mdi:map-marker" size="sm" color="secondary" />
          <span class="text-[#2d2d2d] text-sm">
            <strong>Principal:</strong> José Galvez 375 Urb. Chicago - Trujillo
          </span>
        </div>
        <div class="flex items-center justify-center gap-2">
          <IconWrapper name="mdi:map-marker" size="sm" color="secondary" />
          <span class="text-[#2d2d2d] text-sm">
            <strong>Sucursal:</strong> Sector Chanquin Alto - Campiña de Moche s/n. - Moche
          </span>
        </div>
        <a 
          href="https://maps.google.com/?q=José+Galvez+375+Urb.+Chicago+Trujillo+Peru" 
          target="_blank" 
          rel="noopener noreferrer"
          class="inline-flex items-center gap-2 bg-gradient-to-r from-[#1e3a5f] to-[#4a90e2] text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-[#4a90e2] hover:to-[#1e3a5f] transition-all duration-300 shadow-lg hover:shadow-xl"
        >
          <IconWrapper name="mdi:map" size="sm" color="white" />
          Ver en Google Maps
        </a>
      </div>
    </div>
  </div>
)}

<!-- Script de mapa comentado temporalmente
<script is:inline>
  function initFooterMap() {
    const mapElement = document.getElementById('footer-map');
    if (mapElement) {
      const location = { lat: -16.409047, lng: -71.537451 }; // Example: Arequipa, Peru coordinates
      const map = new google.maps.Map(mapElement, {
        zoom: 12,
        center: location,
        disableDefaultUI: true, // Hide controls for a cleaner look
        zoomControl: false,
        mapTypeControl: false,
        scaleControl: false,
        streetViewControl: false,
        rotateControl: false,
        fullscreenControl: false
      });
      new google.maps.Marker({
        position: location,
        map: map,
      });
    }
  }

  // Load Google Maps API script dynamically if not already loaded
  if (typeof google === 'undefined' || typeof google.maps === 'undefined') {
    const script = document.createElement('script');
    // Pega aquí tu API Key de Google Maps entre las comillas
    const API_KEY = "AQUI_TU_API_KEY";
    script.src = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&callback=initFooterMap`;
    script.async = true;
    script.defer = true;
    document.head.appendChild(script);
  } else {
    initFooterMap();
  }
</script>
-->